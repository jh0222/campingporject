<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fi.pj.campingplace.PlaceMapper">

<select id ="getAllPlace" resultType="com.fi.pj.campingplace.Campingplace">
	select * from camping_table order by cam_no desc
</select>

<insert id="PlaceReg" parameterType="com.fi.pj.campingplace.Campingplace">
	insert into camping_table 
	values(camping_seq.nextval,#{cam_bo_id},#{cam_name},#{cam_picture}
	,#{cam_txt},#{cam_phonenumber},#{cam_price},#{cam_address},#{cam_latitude},#{cam_longitude},#{cam_headcount})
</insert>

<delete id="PlaceDel" parameterType="com.fi.pj.campingplace.Campingplace">
	delete from camping_table where cam_no = ${cam_no}
</delete>

<update id="PlaceUpdate" parameterType="com.fi.pj.campingplace.Campingplace">
	update camping_table 
	set cam_name = #{cam_name}, cam_picture= #{cam_picture}, cam_txt = #{cam_txt}
	, cam_phonenumber = #{cam_phonenumber}, cam_price = #{cam_price}
	, cam_address = #{cam_address}, cam_latitude = #{cam_latitude}, cam_longitude = #{cam_longitude}, cam_headcount=#{cam_headcount}
	where cam_no = ${cam_no}
</update>

<select id ="getOnePlace" resultType="com.fi.pj.campingplace.Campingplace" parameterType="com.fi.pj.campingplace.Campingplace">
	select * from camping_table where cam_no = ${cam_no}
</select>

<select id ="getAllReview" resultType="com.fi.pj.campingplace.placeReview" parameterType="com.fi.pj.campingplace.placeReview">
	select * from campingreview_table where c_cam_no = ${c_cam_no} order by c_no desc
</select>

<insert id="ReviewReg" parameterType="com.fi.pj.campingplace.placeReview" >
	insert into campingreview_table
	values(campingreview_seq.nextval,#{c_cam_no},#{c_u_id}
	,#{c_campingreview},#{c_campingstar},sysdate)
</insert>

<delete id="ReviewDel" parameterType="com.fi.pj.campingplace.placeReview">
	delete from campingreview_table where c_no = ${c_no}
</delete>

<update id="ReviewUpdate" parameterType="com.fi.pj.campingplace.placeReview">
	update campingreview_table
	set c_campingreview = #{c_campingreview}
	where c_no = ${c_no}
</update>

<insert id="reserve" parameterType="com.fi.pj.campingplace.placeReserve">
	insert into reservation_table 
	values (reservation_seq.nextval, #{r_cam_no}, #{r_u_id}, #{r_u_name}, #{r_u_phonenumber}, #{r_cam_name},
	#{r_campingstartdate}, #{r_campingenddate}, #{r_campingheadcount}, #{r_campingprice},
	#{r_cam_phonenumber}, #{r_cam_address})
</insert>

<insert id ="placeLike" parameterType="com.fi.pj.campingplace.campingLike">
	insert into campingheart_table
	values (campingheart_seq.nextval, #{h_cam_no}, #{h_u_id}, #{h_cam_name}, #{h_cam_address}, #{h_campingheart})
</insert>

<select id ="getHeartList" resultType="com.fi.pj.campingplace.campingLike" parameterType="com.fi.pj.campingplace.campingLike">
	select * from campingheart_table order by h_no desc
</select>

</mapper>